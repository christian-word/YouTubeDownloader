<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<title>Мой SSYoutube (ONLINE)</title>
<style>
body{font-family:system-ui;background:#f5f5f5;padding:2rem}
input{width:70%;padding:.5rem;font-size:1rem}
button{padding:.5rem 1rem;margin-left:.5rem}
#links{margin-top:1rem}
.link-row{padding:.3rem 0;border-bottom:1px solid #ddd}
</style>
</head>
<body>
<h1>Мой SSYoutube (ONLINE)</h1>
<input id="url" placeholder="https://www.youtube.com/watch?v=...">
<button id="go">Parse</button>
<div id="links"></div>

<script>
document.getElementById("go").onclick = async ()=>{
  const url = document.getElementById("url").value.trim();
  if(!url){ alert("Вставьте URL"); return; }
  document.getElementById("links").innerHTML = "Ждём…";
  try{
    // бесплатный CORS-совместимый энд-поинт
    const api = "https://api.cobalt.tools/api/json";
    const json = await fetch(api,{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body: JSON.stringify({url,vQuality:"max"})
    }).then(r=>r.json());

    const box = document.getElementById("links");
    box.innerHTML = `<h3>${json.title}</h3>`;
    json.urls.video.forEach(v=>{
      box.insertAdjacentHTML("beforeend",
       `<div class="link-row">
          <a href="${v.url}" download="${json.title}.${v.extension}">
            ${v.quality} ${v.extension}
          </a>
        </div>`);
    });
  }catch(e){ alert("Ошибка: "+e); }
};
</script>
</body>
</html>
